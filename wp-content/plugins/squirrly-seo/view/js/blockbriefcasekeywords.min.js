var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(a,b,f){a instanceof String&&(a=String(a));for(var g=a.length,c=0;c<g;c++){var e=a[c];if(b.call(f,e,c,a))return{i:c,v:e}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,f){a!=Array.prototype&&a!=Object.prototype&&(a[b]=f.value)};
$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(a,b,f,g){if(b){f=$jscomp.global;a=a.split(".");for(g=0;g<a.length-1;g++){var c=a[g];c in f||(f[c]={});f=f[c]}a=a[a.length-1];g=f[a];b=b(g);b!=g&&null!=b&&$jscomp.defineProperty(f,a,{configurable:!0,writable:!0,value:b})}};
$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,f){return $jscomp.findInternal(this,a,f).v}},"es6","es3");
(function(a){a.fn.sq_Briefcase=function(){var b=this,f=b.find(".sq_add_keyword_dialog"),g=b.find(".sq_add_labels_dialog"),c=b.find(".sq_edit_label_dialog");b.sq_getResearchLang=function(a){if("undefined"!==typeof a&&""!==a)try{if(-1!==a.indexOf("_"))return a.substring(a.lastIndexOf("_")+1)}catch(d){}return"us"};b.listenAdd=function(){f.find("#sq_save_keyword").on("click",function(){var b=a(this),d=f.find("input#sq_keyword").val(),c=[];f.find('input[name="sq_labels"]:checked').each(function(){c.push(this.value)});
b.addClass("sq_minloading");a.post(sqQuery.ajaxurl,{action:"sq_briefcase_addkeyword",keyword:d,labels:c,nonce:sqQuery.nonce}).done(function(e){"undefined"!==typeof e.saved?(location.reload(),b.removeClass("sq_minloading")):(b.removeClass("sq_minloading"),a.sq_showMessage(e.error).addClass("sq_error"))}).fail(function(){b.removeClass("sq_minloading")},"json")});g.find("#sq_labelcolor").wpColorPicker();g.find("#sq_save_label").on("click",function(){var b=a(this),d=g.find("input#sq_labelname").val(),
c=g.find("input#sq_labelcolor").val();b.addClass("sq_minloading");a.post(sqQuery.ajaxurl,{action:"sq_briefcase_addlabel",name:d,color:c,nonce:sqQuery.nonce}).done(function(e){"undefined"!==typeof e.saved?(location.reload(),b.removeClass("sq_minloading")):(b.removeClass("sq_minloading"),a.sq_showMessage(e.error).addClass("sq_error"))}).fail(function(){b.removeClass("sq_minloading")},"json")});b.find(".sq_save_keyword_labels").on("click",function(){var b=a(this).parents(".sq_label_manage_popup:last"),
d=a(this),c=a(this).data("id"),h=[];b.find('input[name="sq_labels"]:checked').each(function(){h.push(this.value)});d.addClass("sq_minloading");a.post(sqQuery.ajaxurl,{action:"sq_briefcase_keywordlabel",keyword_id:c,labels:h,nonce:sqQuery.nonce}).done(function(b){"undefined"!==typeof b.saved?(location.reload(),d.removeClass("sq_minloading")):(d.removeClass("sq_minloading"),a.sq_showMessage(b.error).addClass("sq_error"))}).fail(function(){d.removeClass("sq_minloading")},"json")})};b.listenEdit=function(){c.find("#sq_labelcolor").wpColorPicker();
b.find(".sq_edit_label").on("click",function(){a("#element .wp-picker-clear").trigger("click");c.find("input#sq_labelid").val(a(this).attr("data-id"));c.find("input#sq_labelname").val(a(this).attr("data-name"));c.find("input#sq_labelcolor").val(a(this).attr("data-color"));c.find("input#sq_labelcolor").trigger("change");f.modal("hide");g.modal("hide");c.modal("show")});c.find("#sq_save_label").on("click",function(){var b=a(this),d=c.find("#sq_labelid").val(),f=c.find("#sq_labelname").val(),h=c.find("#sq_labelcolor").val();
b.addClass("sq_minloading");a.post(sqQuery.ajaxurl,{action:"sq_briefcase_editlabel",id:d,name:f,color:h,nonce:sqQuery.nonce}).done(function(d){"undefined"!==typeof d.saved?(location.reload(),b.removeClass("sq_minloading")):(b.removeClass("sq_minloading"),a.sq_showMessage(d.error).addClass("sq_error"))}).fail(function(){b.removeClass("sq_minloading")},"json")})};b.listenResearch=function(){b.find("ul.sq_research_lang").on("mouseleave",function(){b.find("ul.sq_research_lang").scrollTop(0)});b.find("li.sq_research_lang").on("click",
function(){b.find("li.sq_research_lang").removeClass("selected");a(this).addClass("selected");b.find("li.sq_research_first").html(a(this).html());b.find("li.sq_research_first").attr("id",a(this).attr("id"));a.sq_setCookie("sq_research_lang",a(this).attr("id"));b.find("input[name=sq_kr_country]").val(b.sq_getResearchLang(a(this).attr("id")));b.find("ul.sq_research_lang").scrollTop(0)});""!==a.sq_getCookie("sq_research_lang")?(a("#"+a.sq_getCookie("sq_research_lang")).addClass("selected"),a("#"+a.sq_getCookie("sq_research_lang")).trigger("click"),
b.find("input[name=sq_kr_country]").val(b.sq_getResearchLang(a.sq_getCookie("sq_research_lang")))):(b.find("ul.sq_research_lang").find("#sq_research_lang_us").addClass("selected"),b.find("input[name=sq_kr_country]").val("us"));b.find("#sq_doresearch").on("click",function(){var e=a(this),d=b.find("input[name=sq_kr_keyword]").val(),c=b.find("input[name=sq_kr_country]").val();e.addClass("sq_minloading");a.post(sqQuery.ajaxurl,{action:"sq_briefcase_doresearch",keyword:d,country:c,nonce:sqQuery.nonce}).done(function(b){"undefined"!==
typeof b.error?("limit_exceeded"===b.error?a.sq_showMessage(b.error).addClass("sq_error"):a.sq_showMessage(b.error,1E4).addClass("sq_error"),e.removeClass("sq_minloading")):location.reload()}).fail(function(){e.removeClass("sq_minloading")},"json")})};b.listenCount=function(){b.find(".sq_open_subrow").on("click",function(){var e=a(this),d=a(this).data("id"),c=a(this).data("keyword");b.find(".fa_showmore").removeClass("fa-sort-asc");a("#sq_subrow_"+d).is(":visible")?a("#sq_subrow_"+d).hide():(e.addClass("sq_minloading"),
a.post(sqQuery.ajaxurl,{action:"sq_briefcase_article",keyword:c,nonce:sqQuery.nonce}).done(function(c){"undefined"!==typeof c.error?"limit_exceeded"===c.error?a.sq_showMessage(c.error).addClass("sq_error"):a.sq_showMessage(c.error,1E4).addClass("sq_error"):"undefined"!==typeof c.articles&&(a(".sq_subrow").hide(),a("#sq_subrow_"+d).find("td").html(c.articles),a("#sq_subrow_"+d).show(),b.listenRecheck());a("#sq_row_"+d).find(".fa_showmore").addClass("fa-sort-asc");e.removeClass("sq_minloading")}).fail(function(){e.removeClass("sq_minloading")},
"json"))})};b.listenDelete=function(){b.find(".sq_delete_keyword").on("click",function(){if(confirm("Are you sure ?")){var c=a(this),d=a(this).data("id");c.addClass("sq_minloading");a.post(sqQuery.ajaxurl,{action:"sq_briefcase_deletekeyword",id:d,nonce:sqQuery.nonce}).done(function(e){"undefined"!==typeof e.deleted?(b.find("#sq_row_"+d).remove(),b.find("#sq_subrow_"+d).remove()):a.sq_showMessage(e.error).addClass("sq_error");c.removeClass("sq_minloading")}).fail(function(){c.removeClass("sq_minloading")},
"json")}});b.find(".sq_delete_label").on("click",function(){if(confirm("Are you sure ?")){var c=a(this).parents(".sq_saved_label:last"),d=a(this).data("id");c.addClass("sq_minloading");a.post(sqQuery.ajaxurl,{action:"sq_briefcase_deletelabel",id:d,nonce:sqQuery.nonce}).done(function(e){"undefined"!==typeof e.deleted?(c.remove(),b.find("label[data-id="+d+"]").remove(),b.find(".sq_circle_label[data-id="+d+"]").remove()):a.sq_showMessage(e.error).addClass("sq_error");c.removeClass("sq_minloading")}).fail(function(){c.removeClass("sq_minloading")},
"json")}})};b.listenRecheck=function(){b.find(".sq_rank_refresh").on("click",function(){var c=a(this),d=a(this).data("id"),f=a(this).data("keyword");b.find("#sq_rank_value"+d).addClass("sq_minloading");c.addClass("sq_minloading");a.post(sqQuery.ajaxurl,{action:"sq_serp_refresh_post",id:d,keyword:f,nonce:sqQuery.nonce}).done(function(e){"undefined"!==typeof e.rank?(a("#sq_rank_value"+d).html(e.rank),"undefined"!==typeof e.datetime&&a("#sq_rank_value"+d).attr("title",e.datetime)):a.sq_showMessage(e.error).addClass("sq_error");
b.find("#sq_rank_value"+d).removeClass("sq_minloading");c.removeClass("sq_minloading")}).fail(function(){b.find("#sq_rank_value"+d).removeClass("sq_minloading");c.removeClass("sq_minloading")},"json")})};b.listenAdd();b.listenEdit();b.listenCount();b.listenResearch();b.listenDelete();b.find(".sq_research_selectit").on("click",function(){a(this).addClass("sq_minloading");var b=a(this).data("keyword");a.sq_setCookie("sq_keyword",b);location.href=a(this).data("post")});a("#sq_settings .sq_filter_label input[type=checkbox]").click(function(){a("#sq_settings .sq_filter_label input[type=checkbox]").each(function(){a(this).is(":checked")||
a(this).next("label").removeClass("sq_active")});a(this).is(":checked")&&a(this).next("label").addClass("sq_active")});a("#sq_settings .sq_add_keyword_dialog input[type=checkbox]").click(function(){a("#sq_settings .sq_add_keyword_dialog input[type=checkbox]").each(function(){a(this).is(":checked")||a(this).next("label").removeClass("sq_active")});a(this).is(":checked")&&a(this).next("label").addClass("sq_active")});a("#sq_settings .sq_label_manage_popup input[type=checkbox]").click(function(){a(this).parents(".sq_label_manage_popup:last").find("input[type=checkbox]").each(function(){a(this).is(":checked")||
a(this).next("label").removeClass("sq_active")});a(this).is(":checked")&&a(this).next("label").addClass("sq_active")});return b};0<a("#sq_settings").length?a("#sq_settings").sq_Briefcase():a(document).ready(function(){a("#sq_settings").sq_Briefcase()})})(jQuery);
